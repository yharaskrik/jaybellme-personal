webpackJsonp([46],{2753:function(m,c,d){var k=(c=d(25))&&c.__esModule?c:{"default":c},l=d(764),b=[],g=null,q=function(){var e=b.map(function(b){return b.itemId}).join(",");l.get("/api/blog-like-count/"+e).then(function(e){var f=e.data;b.forEach(function(a){f.hasOwnProperty(a.itemId)?a.resolve(f[a.itemId]):a.reject()});b=[];g=null})},r=function(e){return new k.default(function(h,f){b.push({itemId:e,resolve:h,reject:f});null!==g&&clearTimeout(g);g=setTimeout(q,100)})};m.exports={like:function(b){return l.post("/api/content-items/"+
b+"/sentiment/like").then(function(b){return b.data})},getLikeCount:function(b){return r(b)}}},4277:function(m,c,d){var k=d(7),l=d(2753);YUI.add("squarespace-share-buttons",function(b){function g(a,n){try{var c=a[h.URL_KEYS[n]],p=e.createElement("a");p.href=c;var d='.Share[data-item-path="'+p.pathname.replace(/^\/|\/$/g,"")+'"] .Share-buttons-item[data-service="'+n+'"]',f=b.Object.getValue(a,h.COUNT_KEYS[n])||0,g=e.querySelectorAll(d);Array.prototype.forEach.call(g,function(a){a.querySelector(".Share-buttons-item-count").innerHTML=
f})}catch(k){console.error(k)}}function d(a){this.container=a.container;this.like=a.like;this.ID=a.id;this.PATH=a.path;this.SHARE_LINK=c.Static.SQUARESPACE_CONTEXT.website.baseUrl+"/"+this.PATH;this.shareButtonClickHandler=this.shareButtonClickHandler.bind(this)}var c=b.config.win,e=b.config.win.document,h={CALLBACK_NAMESPACE:"SquarespaceShareButtonCounts"+Date.now(),SERVICE_NAMES:["facebook","linkedin","pinterest"],COUNT_KEYS:{facebook:["share","share_count"],linkedin:["count"],pinterest:["count"]},
URL_KEYS:{facebook:"id",linkedin:"url",pinterest:"url"},API_BASE_URLS:{facebook:"https://graph.facebook.com/?id=",linkedin:"https://www.linkedin.com/countserv/count/share?url=",pinterest:"https://widgets.pinterest.com/v1/urls/count.json?source=6&url="}};c[h.CALLBACK_NAMESPACE]={facebook:function(a){g(a,"facebook")},linkedin:function(a){g(a,"linkedin")},pinterest:function(a){g(a,"pinterest")}};d.prototype={init:function(){h.SERVICE_NAMES.forEach(function(a){this.getCount(a)},this);this.like&&(this.initializeLikes(),
this.isInLocalStorage(this.like)&&this.like.classList.add("is-active"));this.container.addEventListener("click",this.shareButtonClickHandler)},destroy:function(){this.container.removeEventListener("click",this.shareButtonClickHandler)},getCount:function(a){var b=e.createElement("script");b.src=[h.API_BASE_URLS[a],this.SHARE_LINK,"&callback=",h.CALLBACK_NAMESPACE,".",a].join("");e.body.appendChild(b);e.body.removeChild(b)},shareButtonClickHandler:function(a){a.preventDefault();if((a=b.one(a.target).ancestor(".Share-buttons-item",
!0))&&a.getDOMNode())if(a=a.getDOMNode(),a.getAttribute("data-service"))if(this.like&&a===this.like)this.onLike();else this.onShare(a)},initializeLikes:function(){l.getLikeCount(this.ID).then(function(a){this.syncLikes(a)}.bind(this)).catch(function(){this.syncLikes()}.bind(this))},syncLikes:function(a){var b=this.like.querySelector(".Share-buttons-item-label");a||(a=parseInt(this.like.getAttribute("data-like-count"),10));b.innerHTML=1===a?a+k(" Like"):a+k(" Likes");this.like.setAttribute("data-like-count",
a)},onLike:function(){this.like.classList.contains("is-active")||l.like(this.ID).then(function(a){!0===a.commited&&(this.incrementLike(),this.addToLocalStorage(this.like));a.error&&(b.Squarespace.Utils.areCookiesEnabled()||b.config.win.alert(k("You need to enable cookies to be able to like something.")))}.bind(this)).catch(function(a){console.error("Something went wrong liking!",a)})},incrementLike:function(){var a=parseInt(this.like.getAttribute("data-like-count"),10),a=a+1;this.like.classList.add("is-active");
this.syncLikes(a)},onShare:function(a){window.open(a.getAttribute("href"),"Share","width=420,height=230,dialog");if(a=a.querySelector(".Share-buttons-item-count"))a.innerHTML=parseInt(a.innerHTML,10)+1},onSharePopupClose:function(a,b){var c=0,d=setInterval(function(){if(a.closed||150<c)clearInterval(d),this.getCount(b);c++}.bind(this),200)},getLocalStorageKey:function(a){var b=a.getAttribute("data-service");return a===this.like?"squarespace-likes":b?"squarespace-shares-"+b:null},isInLocalStorage:function(a){if(!localStorage||
!JSON)return!1;a=this.getLocalStorageKey(a);if(a=JSON.parse(localStorage.getItem(a)))return!0===a[this.ID]?!0:!1},addToLocalStorage:function(a){if(!b.config.win.localStorage||!b.config.win.JSON)return!1;a=this.getLocalStorageKey(a);var c=JSON.parse(localStorage.getItem(a))||{};c[this.ID]=!0;localStorage.setItem(a,JSON.stringify(c))},readCookie:function(a){a+="=";for(var b=e.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return d.substring(a.length,
d.length)}return null}};var f;c.Squarespace.onInitialize(b,function(){f=[];b.all(".Share").each(function(a){a=a.getDOMNode();a=new d({container:a,id:a.getAttribute("data-item-identifier"),path:a.getAttribute("data-item-path"),like:a.querySelector(".Share-buttons-item--like")});a.init();f.push(a)})});c.Squarespace.onDestroy(b,function(){f.forEach(function(a){a.destroy()});f=null})},"1.0",{requires:[]})},7878:function(m,c,d){d(4277)}},[7878]);
